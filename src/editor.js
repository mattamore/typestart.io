// Generated by CoffeeScript 1.8.0
this.Editor = (function() {
  function Editor(typestart) {
    this.typestart = typestart;
    this.editor = ace.edit("editor");
    this.editor.setTheme("ace/theme/tomorrow_night_bright");
    this.editor.getSession().setMode("ace/mode/coffee");
    this.editor.getSession().on('change', (function(_this) {
      return function() {
        return _this.editorContentsChanged();
      };
    })(this));
  }

  Editor.prototype.edit = function(name) {
    var content;
    content = this.typestart.drive.load(name);
    if (content != null) {
      this.editor.setValue(content, 1);
    } else {
      this.editor.setValue("");
    }
    return this.typestart.showEditor();
  };

  Editor.prototype.editorContentsChanged = function() {
    return this.typestart.drive.store(this.typestart.current_project, this.editor.getValue());
  };

  return Editor;

})();
